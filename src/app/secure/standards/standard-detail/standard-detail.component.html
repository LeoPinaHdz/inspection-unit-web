<mat-card>
    <mat-card-header>
        <mat-card-title>
            <a [routerLink]="['/secure/standards']" class="button-back" color="accent" mat-mini-fab>
                <mat-icon>arrow_circle_left</mat-icon>
            </a>
            Nueva norma
        </mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="standardForm">
            <div class="form-container">
                <div class="form-cell-3">
                    <mat-form-field appearance="outline">
                        <mat-label>ID</mat-label>
                        <input matInput formControlName="idNorma" appCurrencyMask type="text" />
                    </mat-form-field>
                </div>
                <div class="form-cell-3">
                    <mat-form-field appearance="outline">
                        <mat-label>Nombre</mat-label>
                        <input matInput formControlName="nombre" type="text" required />
                        <mat-error>
                            <error-message nomCampo="Nombre"></error-message>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="form-cell-3"><mat-form-field appearance="outline">
                        <mat-label>Descripci&otilde;n</mat-label>
                        <textarea matInput formControlName="descripcion" appCurrencyMask maxlength="255"
                            required></textarea>
                        <mat-error>
                            <error-message [control]="form.descripcion" nomCampo="DescripciÃ³n"></error-message>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="form-cell-3">
                    <mat-form-field appearance="outline">
                        <mat-label>Puntos</mat-label>
                        <input matInput formControlName="puntos" type="text" />
                        <mat-error>
                            <error-message nomCampo="Puntos"></error-message>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="form-cell-3">
                    <mat-form-field appearance="outline">
                        <mat-label>Exceptos</mat-label>
                        <input matInput formControlName="exceptos" type="text" />
                        <mat-error>
                            <error-message nomCampo="Exceptos"></error-message>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="form-cell-3">
                    <mat-checkbox matInput formControlName="active" color="primary">Activo</mat-checkbox>
                </div>
            </div>
        </form>
    </mat-card-content>
</mat-card>
<mat-card>
    <mat-card-header>
        <mat-card-title>Especificaciones</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="standardSpecForm">
            <div class="form-container">

                <div class="form-cell-2"><mat-form-field class="mat-mdc-form-field-small" appearance="outline">
                        <mat-label>Punto</mat-label>
                        <input matInput formControlName="punto" appCurrencyMask type="text" required />
                    </mat-form-field>
                </div>

                <div class="form-cell-8"><mat-form-field class="mat-mdc-form-field-small" appearance="outline">
                        <mat-label>Contenido</mat-label>
                        <input matInput formControlName="contenido" appCurrencyMask type="text" required />
                        <mat-error>
                            <error-message [control]="formSpec.contenido" nomCampo="Contenido"></error-message>
                        </mat-error>
                    </mat-form-field>
                </div>

                <div class="form-cell-1">
                    <button (click)="onCancelEdit()" mat-fab extended color="warn" *ngIf="selectedSpec">Cancelar</button>
                </div>
                <div class="form-cell-1">
                    <button type="button" (click)="onSubmitDetail()" mat-fab extended color="primary">{{!selectedSpec
                        || selectedSpec.punto === 0 ? 'Agregar' : 'Guardar'}}</button>
                </div>
            </div>
        </form>

        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container matColumnDef="punto">
                <th mat-header-cell *matHeaderCellDef>Punto</th>
                <td mat-cell *matCellDef="let element"> {{element.punto}} </td>
            </ng-container>
            <ng-container matColumnDef="contenido">
                <th mat-header-cell *matHeaderCellDef>Contenido</th>
                <td mat-cell *matCellDef="let element"> {{element.contenido}} </td>
            </ng-container>
            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let element">
                    <button *ngIf="!selectedSpec" mat-mini-fab matTooltip="Editar"
                        color="primary" (click)="editDetail(element)">
                        <mat-icon>edit</mat-icon>
                    </button>
                    <button mat-mini-fab matTooltip="Eliminar" color="warn"
                        (click)="showConfirmDeleteDialog(element)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </mat-card-content>
    <mat-card-footer>
        <button (click)="onSubmit()" mat-fab extended>Guardar</button>
    </mat-card-footer>
</mat-card>